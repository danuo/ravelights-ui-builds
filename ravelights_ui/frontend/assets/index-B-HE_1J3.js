import{v as m,a2 as O,aM as B,aN as C,g as x,d as b,aO as w,w as S,aP as R}from"./index-yLMKGSkL.js";function M(t,o){return B()?(C(t,o),!0):!1}const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function A(t){return Array.isArray(t)?t:[t]}function $(t){return x()}function z(t,o=!0,n){$()?m(t,n):o?t():O(t)}const y=W?window:void 0;function d(t){var o;const n=R(t);return(o=n?.$el)!==null&&o!==void 0?o:n}function _(){const t=w(!1),o=x();return o&&m(()=>{t.value=!0},o),t}function k(t){const o=_();return b(()=>(o.value,!!t()))}function E(t,o,n={}){const{window:a=y,...f}=n;let r;const s=k(()=>a&&"ResizeObserver"in a),i=()=>{r&&(r.disconnect(),r=void 0)},h=S(b(()=>{const u=R(t);return Array.isArray(u)?u.map(e=>d(e)):[d(u)]}),u=>{if(i(),s.value&&a){r=new ResizeObserver(o);for(const e of u)e&&r.observe(e,f)}},{immediate:!0,flush:"post"}),v=()=>{i(),h()};return M(v),{isSupported:s,stop:v}}function T(t,o={width:0,height:0},n={}){const{window:a=y,box:f="content-box"}=n,r=b(()=>{var e;return(e=d(t))===null||e===void 0||(e=e.namespaceURI)===null||e===void 0?void 0:e.includes("svg")}),s=w(o.width),i=w(o.height),{stop:h}=E(t,([e])=>{const g=f==="border-box"?e.borderBoxSize:f==="content-box"?e.contentBoxSize:e.devicePixelContentBoxSize;if(a&&r.value){const l=d(t);if(l){const c=l.getBoundingClientRect();s.value=c.width,i.value=c.height}}else if(g){const l=A(g);s.value=l.reduce((c,{inlineSize:p})=>c+p,0),i.value=l.reduce((c,{blockSize:p})=>c+p,0)}else s.value=e.contentRect.width,i.value=e.contentRect.height},n);z(()=>{const e=d(t);e&&(s.value="offsetWidth"in e?e.offsetWidth:o.width,i.value="offsetHeight"in e?e.offsetHeight:o.height)});const v=S(()=>d(t),e=>{s.value=e?o.width:0,i.value=e?o.height:0});function u(){h(),v()}return{width:s,height:i,stop:u}}export{T as u};
