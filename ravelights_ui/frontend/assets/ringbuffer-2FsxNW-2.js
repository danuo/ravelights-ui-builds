class r{constructor(t){if(this.capacity=t,t<=0)throw new Error("Capacity must be greater than zero");this.buffer=new Array(t)}buffer;head=0;tail=0;size=0;push(t){this.buffer[this.tail]=t,this.tail=(this.tail+1)%this.capacity,this.size<this.capacity?this.size++:this.head=(this.head+1)%this.capacity}pushArray(t){for(const i of t)this.push(i)}pop(){if(this.size===0)return;const t=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=(this.head+1)%this.capacity,this.size--,t}peekFirst(){return this.size===0?void 0:this.buffer[this.head]}peekLast(){if(this.size===0)return;const t=(this.tail-1+this.capacity)%this.capacity;return this.buffer[t]}isFull(){return this.size===this.capacity}isEmpty(){return this.size===0}get length(){return this.size}recent(t){const i=[],e=Math.min(t,this.size);for(let s=0;s<e;s++)i.push(this.buffer[(this.tail-1-s+this.capacity)%this.capacity]);return i.reverse()}recentAll(){const t=[];for(let i=0;i<this.size;i++)t.push(this.buffer[(this.head+i)%this.capacity]);return t}}export{r as R};
