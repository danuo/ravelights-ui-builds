import{Q as re}from"./QPage-yUhJ2evf.js";import{Q as ce,a as A}from"./QItemLabel-BV9vbiYw.js";import{c as X,a8 as ue,Z as ae,g as ne,_ as oe,a9 as de,r as J,d as p,aa as ee,f as g,R as M,n as _e,j as ve,ab as te,ac as me,y as z,z as V,x as G,A as m,B as s,L as x,M as h,N as w,H as I,ad as $,C as u,a3 as D,O as pe,V as v,P as O,F as i,ae as Q,W as E,D as y,a4 as fe,G as ge,E as N}from"./index-yLMKGSkL.js";import{o as be,u as ke,a as ye,b as xe,c as he,Q as Ce}from"./QToggle-Bn5XzZ6_.js";import{u as Se,a as Ve}from"./selection-DHKgXy0P.js";import{u as R}from"./app-store-BLE-9uWy.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as qe}from"./SmallToggleComponent-BBvDsc-J.js";import{_ as $e,G as we}from"./GroupToggleChildComponent-Bmv_v8Ph.js";import{Q as L}from"./QItemSection-ez-bpzzx.js";import{Q as H}from"./QList-B843dnC0.js";import{a as Ie,Q as W}from"./QTabPanel-CZs9YOZ2.js";import{Q as Oe}from"./QInput-DV20IOYa.js";import{Q as Qe}from"./use-key-composition-D9XKka2K.js";import{F as Pe}from"./FancyToggleComponent-Dz0wipn3.js";import"./uid-Bzmka5Fh.js";const Te=()=>g("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[g("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),g("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),Be=X({name:"QRadio",props:{...ae,...ue,...Se,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:o}){const{proxy:r}=ne(),f=oe(e,r.$q),l=de(e,be),a=J(null),{refocusTargetEl:b,refocusTarget:C}=ke(e,a),k=p(()=>ee(e.modelValue)===ee(e.val)),P=p(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(f.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),S=p(()=>{const n=e.color!==void 0&&(e.keepColor===!0||k.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${k.value===!0?"truthy":"falsy"}${n}`}),U=p(()=>(k.value===!0?e.checkedIcon:e.uncheckedIcon)||null),F=p(()=>e.disable===!0?-1:e.tabindex||0),c=p(()=>{const n={type:"radio"};return e.name!==void 0&&Object.assign(n,{".checked":k.value===!0,"^checked":k.value===!0?"checked":void 0,name:e.name,value:e.val}),n}),T=Ve(c);function q(n){n!==void 0&&(te(n),C(n)),e.disable!==!0&&k.value!==!0&&o("update:modelValue",e.val,n)}function K(n){(n.keyCode===13||n.keyCode===32)&&te(n)}function j(n){(n.keyCode===13||n.keyCode===32)&&q(n)}Object.assign(r,{set:q});const d=Te();return()=>{const n=U.value!==null?[g("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[g(M,{class:"q-radio__icon",name:U.value})])]:[d];e.disable!==!0&&T(n,"unshift"," q-radio__native q-ma-none q-pa-none");const _=[g("div",{class:S.value,style:l.value,"aria-hidden":"true"},n)];b.value!==null&&_.push(b.value);const B=e.label!==void 0?_e(t.default,[e.label]):ve(t.default);return B!==void 0&&_.push(g("div",{class:"q-radio__label q-anchor--skip"},B)),g("div",{ref:a,class:P.value,tabindex:F.value,role:"radio","aria-label":e.label,"aria-checked":k.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:q,onKeydown:K,onKeyup:j},_)}}}),Ue=()=>g("div",{key:"svg",class:"q-checkbox__bg absolute"},[g("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[g("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),g("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Ae=X({name:"QCheckbox",props:xe,emits:ye,setup(e){const t=Ue();function o(r,f){const l=p(()=>(r.value===!0?e.checkedIcon:f.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[g("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[g(M,{class:"q-checkbox__icon",name:l.value})])]:[t]}return he("checkbox",o)}}),ie={radio:Be,checkbox:Ae,toggle:Ce},Le=Object.keys(ie);function Z(e,t){if(typeof e=="function")return e;const o=e!==void 0?e:t;return r=>r[o]}const ze=X({name:"QOptionGroup",props:{...ae,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(me),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>Le.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:o}){const{proxy:{$q:r}}=ne(),f=Array.isArray(e.modelValue);e.type==="radio"?f===!0&&console.error("q-option-group: model should not be array"):f===!1&&console.error("q-option-group: model should be array in your case");const l=oe(e,r),a=p(()=>ie[e.type]),b=p(()=>Z(e.optionValue,"value")),C=p(()=>Z(e.optionLabel,"label")),k=p(()=>Z(e.optionDisable,"disable")),P=p(()=>e.options.map(c=>({val:b.value(c),name:c.name===void 0?e.name:c.name,disable:e.disable||k.value(c),leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark===void 0?l.value:c.dark,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor}))),S=p(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),U=p(()=>{const c={role:"group"};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function F(c){t("update:modelValue",c)}return()=>g("div",{class:S.value,...U.value},e.options.map((c,T)=>{const q=o["label-"+T]!==void 0?()=>o["label-"+T](c):o.label!==void 0?()=>o.label(c):void 0;return g("div",[g(a.value,{label:q===void 0?C.value(c):null,modelValue:e.modelValue,"onUpdate:modelValue":F,...P.value[T]},q)])}))}});function se(){const e=z(),t=R(),{settings:o}=V(e),{target_timeline_level:r}=V(t);return p(()=>r.value=="auto"?o.value.global_timeline_level_chorus!="timeline"?o.value.global_timeline_level_chorus:"l1":r.value)}const Fe={class:"row q-col-gutter-xs"},Me=["onClick"],De={class:"col-6"},Ge={style:{height:"100%",display:"flex","flex-direction":"column",gap:"3px"}},Re={class:"q-my-sm"},je={class:"button-grid"},Ee=G({__name:"GeneratorsComponent",setup(e){const t=z(),{selected:o,settings:r}=V(t),f=R(),{visible_timeline_levels:l}=V(f),a=J("pattern"),b=J([]),C=["pattern","pattern_sec","vfilter","dimmer","thinner"],k=p(()=>{const d=[];return Object.entries(l.value).forEach(([n,_])=>{_&&d.push(n)}),d}),P=p(()=>{let d=r.value.target_device_index;return d==null&&(d=0),d}),S=se();function U(d){return b.value.every(n=>d.includes(n))}const F=p(()=>t.meta==null?[]:t.meta.available_generators[c.value].filter(d=>d.only_dev_mode?r.value.dev_mode:!0).filter(d=>U(d.generator_keywords))),c=p(()=>a.value=="pattern_sec"?"pattern":a.value),T=p(()=>{const d=[];if(t.meta==null)return d;for(const n of t.meta.available_keywords)d.push({label:n,value:n});return d});function q(d){return d==null?"":d.replace(/_/g," ")}function K(d){if(r.value.target_device_index==null)for(let _=0;_<o.value.length;_++)o.value[_][S.value][a.value]=d;else o.value[r.value.target_device_index][S.value][a.value]=d;const n={action:"set_generator",device_index:r.value.target_device_index,gen_type:a.value,gen_name:d,timeline_level:S.value};D("/rest/settings",n)}function j(d){const n={action:"gen_command",device_index:r.value.target_device_index,command:d,gen_type:a.value,timeline_level:S.value};D("/rest/settings",n)}return(d,n)=>(s(),m(h,null,[x("div",Fe,[(s(),m(h,null,w(C,_=>x("div",{key:_,class:"col-6"},[x("div",{class:pe(["box-padding",a.value==_?"green-box":"grey-box"]),onClick:B=>a.value=_},[u(ce,{caption:"",style:{color:"#474747"}},{default:v(()=>[$(O(_),1)]),_:2},1024),(s(!0),m(h,null,w(k.value,B=>(s(),m("div",{key:B},O(q(i(o)[P.value][B][_])),1))),128))],10,Me)])),64)),x("div",De,[x("div",Ge,[I((s(),m("div",{onClick:n[0]||(n[0]=_=>j("on_trigger")),style:{cursor:"pointer",position:"relative",flex:"1","text-align":"right","align-content":"center","text-transform":"uppercase","padding-right":"10px"},class:"relative-position non-selectable grey-box"},[n[3]||(n[3]=$(" trigger ",-1)),u(M,{size:"sm",name:"start",style:{"margin-left":"10px","margin-right":"5px"}})])),[[Q]]),I((s(),m("div",{onClick:n[1]||(n[1]=_=>j("alternate")),style:{cursor:"pointer",position:"relative",flex:"1","text-align":"right","align-content":"center","text-transform":"uppercase","padding-right":"10px"},class:"relative-position non-selectable grey-box"},[n[4]||(n[4]=$(" alternate ",-1)),u(M,{size:"sm",name:"update",style:{"margin-left":"10px","margin-right":"5px"}})])),[[Q]])])])]),x("div",Re,[u(ze,{modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=_=>b.value=_),options:T.value,type:"checkbox",inline:"",dense:""},null,8,["modelValue","options"])]),x("div",je,[(s(!0),m(h,null,w(F.value,_=>(s(),m("div",{key:_.generator_name},[u(E,{onClick:B=>K(_.generator_name),label:q(_.generator_name),style:{width:"100%",height:"80px"},class:"q-pa-sm",square:!0,color:_.generator_name==i(o)[P.value][i(S)][a.value]?"secondary":"primary","text-color":_.generator_name==i(o)[P.value][i(S)][a.value]?"black":"white"},null,8,["onClick","label","color","text-color"])]))),128))])],64))}}),Ne=Y(Ee,[["__scopeId","data-v-25a452d3"]]),He={class:"row q-col-gutter-xs"},Ke=G({__name:"PerformExtraSettingsComponent",setup(e){const t=z(),{settings:o}=V(t);return(r,f)=>(s(),m("div",He,[(s(!0),m(h,null,w(i(t).meta.controls_global_generator_settings,l=>(s(),m("div",{class:"col-4",key:l.label},[u(qe,{modelValue:i(o)[l.var_name],"onUpdate:modelValue":a=>i(o)[l.var_name]=a,callback:()=>i(t).set_settings(l.var_name),label:l.label},null,8,["modelValue","onUpdate:modelValue","callback","label"])]))),128))]))}}),We={__name:"TimelineLevelSelectorComponent",setup(e){const t=z(),o=R(),{visible_timeline_levels:r}=V(o);return(f,l)=>(s(),y(we,null,{default:v(()=>[(s(!0),m(h,null,w(i(t).meta.available_timeline_levels,a=>(s(),y($e,{key:a,modelValue:i(r)[a],"onUpdate:modelValue":b=>i(r)[a]=b,label:a.toUpperCase()},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]),_:1}))}},le=z(),Ze=fe("selectorActions",{state:()=>({isOpen:!1,step:1,action:void 0,source_timeline_level:void 0,target_timeline_level:void 0}),actions:{setAction(e){this.step=2,this.action=e,this.source_timeline_level=void 0,this.target_timeline_level=void 0},setSource(e){if(this.action==="save_selected"){const t={action:this.action,device_index:le.settings.target_device_index,source_timeline_level:e,preset_name:"new preset"};D("/rest/settings",t),this.setIsOpen(!1),console.log("Preset saved:",e);return}this.step=3,this.source_timeline_level=e,this.target_timeline_level=void 0},setTarget(e){e!==void 0&&(this.target_timeline_level=e);const t={action:this.action,device_index:le.settings.target_device_index,source_timeline_level:this.source_timeline_level,target_timeline_level:this.target_timeline_level};D("/rest/settings",t),this.setIsOpen(!1)},setIsOpen(e){this.isOpen=e,e||this.reset()},reset(){this.step=1,this.action=void 0,this.source_timeline_level=void 0,this.target_timeline_level=void 0}},getters:{heading(e){switch(e.step){case 1:return"Select Operation";case 2:return`${e.action?.toUpperCase()} from`;case 3:return`${e.action?.toUpperCase()} from ${e.source_timeline_level?.toUpperCase()} to`;case 4:return`Target: ${e.target_timeline_level}`;default:return"default"}},fromOptions(e){return e.action==="load_selected"?["preset1","preset2","preset3"]:["l1","l2","l3","lx","ly","lz"]},toOptions(e){return["l1","l2","l3","lx","ly","lz"].filter(t=>t!==e.source_timeline_level)}}}),Je={class:"select-action-button"},Xe={class:"q-gutter-y-md",style:{width:"400px"}},Ye={class:"text-caption"},et={class:"text-caption"},tt={class:"text-caption"},lt=G({__name:"SelectorActionsComponent",setup(e){const t=Ze(),{step:o}=V(t),r=p({get:()=>t.isOpen,set:f=>t.setIsOpen(f)});return(f,l)=>(s(),m("div",Je,[u(M,{size:"sm",name:"drive_file_rename_outline",class:"q-px-md"}),u(Qe,{flat:"",modelValue:r.value,"onUpdate:modelValue":l[8]||(l[8]=a=>r.value=a)},{default:v(()=>[x("div",Xe,[u(Ie,{flat:"",modelValue:i(o),"onUpdate:modelValue":l[7]||(l[7]=a=>ge(o)?o.value=a:null),animated:""},{default:v(()=>[u(W,{name:1},{default:v(()=>[x("div",Ye,O(i(t).heading),1),u(H,{bordered:"",separator:""},{default:v(()=>[I((s(),y(A,{clickable:"",onClick:l[0]||(l[0]=()=>i(t).setAction("copy_selected"))},{default:v(()=>[u(L,null,{default:v(()=>[...l[9]||(l[9]=[$("Copy",-1)])]),_:1})]),_:1})),[[Q]]),I((s(),y(A,{clickable:"",onClick:l[1]||(l[1]=()=>i(t).setAction("swap_selected"))},{default:v(()=>[u(L,null,{default:v(()=>[...l[10]||(l[10]=[$("Swap",-1)])]),_:1})]),_:1})),[[Q]]),I((s(),y(A,{clickable:"",onClick:l[2]||(l[2]=()=>i(t).setAction("save_selected"))},{default:v(()=>[u(L,null,{default:v(()=>[...l[11]||(l[11]=[$("Save",-1)])]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1}),u(W,{name:2},{default:v(()=>[x("div",et,O(i(t).heading),1),u(H,{bordered:"",separator:""},{default:v(()=>[(s(!0),m(h,null,w(i(t).fromOptions,a=>I((s(),y(A,{key:a,clickable:"",onClick:()=>i(t).setSource(a)},{default:v(()=>[u(L,null,{default:v(()=>[$(O(a.toUpperCase()),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Q]])),128))]),_:1}),u(E,{color:"primary",label:"Cancel",onClick:l[3]||(l[3]=a=>i(t).reset()),class:"full-width q-mt-md"})]),_:1}),u(W,{name:3},{default:v(()=>[x("div",tt,O(i(t).heading),1),i(t).action==="save_selected"?(s(),m(h,{key:0},[u(Oe,{outlined:"",modelValue:i(t).target_timeline_level,"onUpdate:modelValue":l[4]||(l[4]=a=>i(t).target_timeline_level=a),label:"Preset Name"},null,8,["modelValue"]),u(E,{color:"primary",label:"Save",onClick:l[5]||(l[5]=a=>i(t).setTarget(void 0)),class:"full-width q-mt-md"})],64)):(s(),y(H,{key:1,bordered:"",separator:""},{default:v(()=>[(s(!0),m(h,null,w(i(t).toOptions,a=>I((s(),y(A,{key:a,clickable:"",onClick:()=>i(t).setTarget(a)},{default:v(()=>[u(L,null,{default:v(()=>[$(O(a.toUpperCase()),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Q]])),128))]),_:1})),u(E,{color:"primary",label:"Cancel",onClick:l[6]||(l[6]=a=>i(t).reset()),class:"full-width q-mt-md"})]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])]))}}),at=Y(lt,[["__scopeId","data-v-e4f15648"]]),nt={class:"menu-wrapper"},ot=G({__name:"PerformPageMenuComponent",setup(e){const t=R(),{enable_perform_presets:o,enable_perform_options:r,enable_perform_generators:f}=V(t),l=[{label:"Options",icon:"play_arrow",vmodel:r},{label:"Presets",icon:"play_arrow",vmodel:o},{label:"Generators",icon:"play_arrow",vmodel:f}];return(a,b)=>(s(),m("div",nt,[u(at),(s(),m(h,null,w(l,C=>u(Pe,{key:C.label,modelValue:C.vmodel.value,"onUpdate:modelValue":k=>C.vmodel.value=k,label:C.label,fancy:"",muted:""},null,8,["modelValue","onUpdate:modelValue","label"])),64))]))}}),it=Y(ot,[["__scopeId","data-v-5f077552"]]),st=G({__name:"GeneratorPresetsComponent",setup(e){const t=z(),{meta:o}=V(t),r=se();function f(l){const a={action:"load_selected",device_index:t.settings.target_device_index,target_timeline_level:r.value,preset_name:l};D("/rest/settings",a)}return(l,a)=>(s(),m("div",null,[i(o).available_selected_presets.length>0?(s(),y(H,{key:0,bordered:"",separator:""},{default:v(()=>[(s(!0),m(h,null,w(i(o).available_selected_presets,b=>I((s(),y(A,{clickable:"",key:b.preset_name,onClick:C=>f(b.preset_name)},{default:v(()=>[u(L,null,{default:v(()=>[$(O(b.preset_name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Q]])),128))]),_:1})):N("",!0)]))}}),St={__name:"PerformPage",setup(e){const t=R(),{enable_perform_presets:o,enable_perform_options:r,enable_perform_generators:f}=V(t);return(l,a)=>(s(),y(re,{padding:""},{default:v(()=>[u(it,{class:"q-pb-md"}),i(r)?(s(),y(Ke,{key:0,class:"q-pb-md"})):N("",!0),i(o)?(s(),y(st,{key:1,class:"q-pb-md"})):N("",!0),i(f)?(s(),m(h,{key:2},[u(Ne),a[0]||(a[0]=x("div",{class:"text-caption q-pt-md q-px-sm"},"Visible Timeline Levels",-1)),u(We)],64)):N("",!0)]),_:1}))}};export{St as default};
