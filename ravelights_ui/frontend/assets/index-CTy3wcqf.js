import{v as E,a2 as N,aM as V,aN as R,g as I,w as W,aO as T,i as $,d as b,aP as h,aQ as m,aL as j,F as P}from"./index-BeSqqPMt.js";function B(e,t){return V()?(R(e,t),!0):!1}const M=new WeakMap,H=(...e)=>{var t;const s=e[0],i=(t=I())===null||t===void 0?void 0:t.proxy,o=i??V();if(o==null&&!T())throw new Error("injectLocal must be called in setup");return o&&M.has(o)&&s in M.get(o)?M.get(o)[s]:$(...e)},L=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const k=Object.prototype.toString,A=e=>k.call(e)==="[object Object]";function O(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function S(e){return Array.isArray(e)?e:[e]}function F(e){return I()}function z(e,t=!0,s){F()?E(e,s):t?e():N(e)}function G(e,t,s){return W(e,t,{...s,immediate:!0})}const g=L?window:void 0;function p(e){var t;const s=m(e);return(t=s?.$el)!==null&&t!==void 0?t:s}function x(...e){const t=(i,o,u,r)=>(i.addEventListener(o,u,r),()=>i.removeEventListener(o,u,r)),s=b(()=>{const i=S(m(e[0])).filter(o=>o!=null);return i.every(o=>typeof o!="string")?i:void 0});return G(()=>{var i,o;return[(i=(o=s.value)===null||o===void 0?void 0:o.map(u=>p(u)))!==null&&i!==void 0?i:[g].filter(u=>u!=null),S(m(s.value?e[1]:e[0])),S(P(s.value?e[2]:e[1])),m(s.value?e[3]:e[2])]},([i,o,u,r],a,v)=>{if(!i?.length||!o?.length||!u?.length)return;const l=A(r)?{...r}:r,d=i.flatMap(n=>o.flatMap(f=>u.map(c=>t(n,f,c,l))));v(()=>{d.forEach(n=>n())})},{flush:"post"})}function Q(){const e=h(!1),t=I();return t&&E(()=>{e.value=!0},t),e}function C(e){const t=Q();return b(()=>(t.value,!!e()))}const D=Symbol("vueuse-ssr-width");function Y(){const e=T()?H(D,null):null;return typeof e=="number"?e:void 0}function U(e,t={}){const{window:s=g,ssrWidth:i=Y()}=t,o=C(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),u=h(typeof i=="number"),r=h(),a=h(!1),v=l=>{a.value=l.matches};return j(()=>{if(u.value){u.value=!o.value,a.value=m(e).split(",").some(l=>{const d=l.includes("not all"),n=l.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),f=l.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let c=!!(n||f);return n&&c&&(c=i>=O(n[1])),f&&c&&(c=i<=O(f[1])),d?!c:c});return}o.value&&(r.value=s.matchMedia(m(e)),a.value=r.value.matches)}),x(r,"change",v,{passive:!0}),b(()=>a.value)}function J(e,t,s={}){const{window:i=g,...o}=s;let u;const r=C(()=>i&&"ResizeObserver"in i),a=()=>{u&&(u.disconnect(),u=void 0)},v=W(b(()=>{const d=m(e);return Array.isArray(d)?d.map(n=>p(n)):[p(d)]}),d=>{if(a(),r.value&&i){u=new ResizeObserver(t);for(const n of d)n&&u.observe(n,o)}},{immediate:!0,flush:"post"}),l=()=>{a(),v()};return B(l),{isSupported:r,stop:l}}function X(e,t={width:0,height:0},s={}){const{window:i=g,box:o="content-box"}=s,u=b(()=>{var n;return(n=p(e))===null||n===void 0||(n=n.namespaceURI)===null||n===void 0?void 0:n.includes("svg")}),r=h(t.width),a=h(t.height),{stop:v}=J(e,([n])=>{const f=o==="border-box"?n.borderBoxSize:o==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(i&&u.value){const c=p(e);if(c){const w=c.getBoundingClientRect();r.value=w.width,a.value=w.height}}else if(f){const c=S(f);r.value=c.reduce((w,{inlineSize:y})=>w+y,0),a.value=c.reduce((w,{blockSize:y})=>w+y,0)}else r.value=n.contentRect.width,a.value=n.contentRect.height},s);z(()=>{const n=p(e);n&&(r.value="offsetWidth"in n?n.offsetWidth:t.width,a.value="offsetHeight"in n?n.offsetHeight:t.height)});const l=W(()=>p(e),n=>{r.value=n?t.width:0,a.value=n?t.height:0});function d(){v(),l()}return{width:r,height:a,stop:d}}function Z(e={}){const{window:t=g,initialWidth:s=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:u=!0,type:r="inner"}=e,a=h(s),v=h(i),l=()=>{if(t)if(r==="outer")a.value=t.outerWidth,v.value=t.outerHeight;else if(r==="visual"&&t.visualViewport){const{width:n,height:f,scale:c}=t.visualViewport;a.value=Math.round(n*c),v.value=Math.round(f*c)}else u?(a.value=t.innerWidth,v.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,v.value=t.document.documentElement.clientHeight)};l(),z(l);const d={passive:!0};return x("resize",l,d),t&&r==="visual"&&t.visualViewport&&x(t.visualViewport,"resize",l,d),o&&W(U("(orientation: portrait)"),()=>l()),{width:a,height:v}}export{Z as a,X as u};
