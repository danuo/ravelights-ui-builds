import{Q as ne}from"./QPage-CRmDao5O.js";import{Q as oe,a as O}from"./QItemLabel-BjeMTmEL.js";import{c as Y,f as V,d as f,Z as R,V as ae,g as se,W as ie,a7 as re,x as U,y,v as z,r as J,z as v,A as s,K as b,L as x,M as S,H as $,a8 as C,B as i,a1 as B,a9 as ce,P as d,a2 as Q,E as a,R as w,Q as G,C as k,a3 as ue,F as de,D as M}from"./index-C7l3P4d2.js";import{Q as _e}from"./QRadio-Bmi256VJ.js";import{u as me,a as ve,b as pe,Q as fe}from"./QToggle-D0YfChf3.js";import{u as D}from"./app-store-P5dDXpdE.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as ge}from"./SmallToggleComponent-C2P8JL-3.js";import{_ as be,G as ke}from"./GroupToggleChildComponent-BBOtf8lp.js";import{Q as I}from"./QItemSection-BVGERZu3.js";import{Q as E}from"./QList-VEn3-S67.js";import{a as xe,Q as N}from"./QTabPanel-D2Vp4_lS.js";import{Q as ye}from"./QInput-CbhMm8WI.js";import{Q as he}from"./use-key-composition-DlvROmZu.js";import{F as Ce}from"./FancyToggleComponent-DDkPHmPS.js";import"./option-sizes-D6HSlOre.js";import"./selection-8urfZMsW.js";const Ve=()=>V("div",{key:"svg",class:"q-checkbox__bg absolute"},[V("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[V("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),V("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Se=Y({name:"QCheckbox",props:ve,emits:me,setup(e){const t=Ve();function o(r,p){const l=f(()=>(r.value===!0?e.checkedIcon:p.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>l.value!==null?[V("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[V(R,{class:"q-checkbox__icon",name:l.value})])]:[t]}return pe("checkbox",o)}}),ee={radio:_e,checkbox:Se,toggle:fe},qe=Object.keys(ee);function K(e,t){if(typeof e=="function")return e;const o=e!==void 0?e:t;return r=>r[o]}const $e=Y({name:"QOptionGroup",props:{...ae,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(re),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>qe.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:o}){const{proxy:{$q:r}}=se(),p=Array.isArray(e.modelValue);e.type==="radio"?p===!0&&console.error("q-option-group: model should not be array"):p===!1&&console.error("q-option-group: model should be array in your case");const l=ie(e,r),n=f(()=>ee[e.type]),g=f(()=>K(e.optionValue,"value")),h=f(()=>K(e.optionLabel,"label")),P=f(()=>K(e.optionDisable,"disable")),A=f(()=>e.options.map(c=>({val:g.value(c),name:c.name===void 0?e.name:c.name,disable:e.disable||P.value(c),leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark===void 0?l.value:c.dark,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor}))),q=f(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),j=f(()=>{const c={role:"group"};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function H(c){t("update:modelValue",c)}return()=>V("div",{class:q.value,...j.value},e.options.map((c,L)=>{const T=o["label-"+L]!==void 0?()=>o["label-"+L](c):o.label!==void 0?()=>o.label(c):void 0;return V("div",[V(n.value,{label:T===void 0?h.value(c):null,modelValue:e.modelValue,"onUpdate:modelValue":H,...A.value[L]},T)])}))}});function te(){const e=U(),t=D(),{settings:o}=y(e),{target_timeline_level:r}=y(t);return f(()=>r.value=="auto"?o.value.global_timeline_level_chorus!="timeline"?o.value.global_timeline_level_chorus:"l1":r.value)}const Qe={class:"row q-col-gutter-xs"},we=["onClick"],Oe={class:"col-6"},Ie={style:{height:"100%",display:"flex","flex-direction":"column",gap:"3px"}},Ue={class:"q-my-sm"},Pe={class:"button-grid"},Ae=z({__name:"GeneratorsComponent",setup(e){const t=U(),{selected:o,settings:r}=y(t),p=D(),{visible_timeline_levels:l}=y(p),n=J("pattern"),g=J([]),h=["pattern","pattern_sec","vfilter","dimmer","thinner"],P=f(()=>{const u=[];return Object.entries(l.value).forEach(([_,m])=>{m&&u.push(_)}),u}),A=f(()=>{let u=r.value.target_device_index;return u==null&&(u=0),u}),q=te();function j(u){return g.value.every(_=>u.includes(_))}const H=f(()=>t.meta==null?[]:t.meta.available_generators[c.value].filter(u=>u.only_dev_mode?r.value.dev_mode:!0).filter(u=>j(u.generator_keywords))),c=f(()=>n.value=="pattern_sec"?"pattern":n.value),L=f(()=>{const u=[];if(t.meta==null)return u;for(const _ of t.meta.available_keywords)u.push({label:_,value:_});return u});function T(u){return u==null?"":u.replace(/_/g," ")}function le(u){if(r.value.target_device_index==null)for(let m=0;m<o.value.length;m++)o.value[m][q.value][n.value]=u;else o.value[r.value.target_device_index][q.value][n.value]=u;const _={action:"set_generator",device_index:r.value.target_device_index,gen_type:n.value,gen_name:u,timeline_level:q.value};B("/rest/settings",_)}function Z(u){const _={action:"gen_command",device_index:r.value.target_device_index,command:u,gen_type:n.value,timeline_level:q.value};B("/rest/settings",_)}return(u,_)=>(s(),v(x,null,[b("div",Qe,[(s(),v(x,null,S(h,m=>b("div",{key:m,class:"col-6"},[b("div",{class:ce(["box-padding",n.value==m?"green-box":"grey-box"]),onClick:F=>n.value=m},[i(oe,{caption:"",style:{color:"#474747"}},{default:d(()=>[C(Q(m),1)]),_:2},1024),(s(!0),v(x,null,S(P.value,F=>(s(),v("div",{key:F},Q(T(a(o)[A.value][F][m])),1))),128))],10,we)])),64)),b("div",Oe,[b("div",Ie,[$((s(),v("div",{onClick:_[0]||(_[0]=m=>Z("on_trigger")),style:{cursor:"pointer",position:"relative",flex:"1","text-align":"right","align-content":"center","text-transform":"uppercase","padding-right":"10px"},class:"relative-position non-selectable grey-box"},[_[3]||(_[3]=C(" trigger ")),i(R,{size:"sm",name:"start",style:{"margin-left":"10px","margin-right":"5px"}})])),[[w]]),$((s(),v("div",{onClick:_[1]||(_[1]=m=>Z("alternate")),style:{cursor:"pointer",position:"relative",flex:"1","text-align":"right","align-content":"center","text-transform":"uppercase","padding-right":"10px"},class:"relative-position non-selectable grey-box"},[_[4]||(_[4]=C(" alternate ")),i(R,{size:"sm",name:"update",style:{"margin-left":"10px","margin-right":"5px"}})])),[[w]])])])]),b("div",Ue,[i($e,{modelValue:g.value,"onUpdate:modelValue":_[2]||(_[2]=m=>g.value=m),options:L.value,type:"checkbox",inline:"",dense:""},null,8,["modelValue","options"])]),b("div",Pe,[(s(!0),v(x,null,S(H.value,m=>(s(),v("div",{key:m.generator_name},[i(G,{onClick:F=>le(m.generator_name),label:T(m.generator_name),style:{width:"100%",height:"80px"},class:"q-pa-sm",square:!0,color:m.generator_name==a(o)[A.value][a(q)][n.value]?"secondary":"primary","text-color":m.generator_name==a(o)[A.value][a(q)][n.value]?"black":"white"},null,8,["onClick","label","color","text-color"])]))),128))])],64))}}),Le=W(Ae,[["__scopeId","data-v-25a452d3"]]),Te={class:"row q-col-gutter-xs q-mb-sm"},Be=z({__name:"PerformExtraSettingsComponent",setup(e){const t=U(),{settings:o}=y(t);return(r,p)=>(s(),v("div",Te,[(s(!0),v(x,null,S(a(t).meta.controls_global_generator_settings,l=>(s(),v("div",{class:"col-4",key:l.label},[i(ge,{modelValue:a(o)[l.var_name],"onUpdate:modelValue":n=>a(o)[l.var_name]=n,callback:()=>a(t).set_settings(l.var_name),label:l.label},null,8,["modelValue","onUpdate:modelValue","callback","label"])]))),128))]))}}),ze={__name:"TimelineLevelSelectorComponent",setup(e){const t=U(),o=D(),{visible_timeline_levels:r}=y(o);return(p,l)=>(s(),k(ke,null,{default:d(()=>[(s(!0),v(x,null,S(a(t).meta.available_timeline_levels,n=>(s(),k(be,{key:n,modelValue:a(r)[n],"onUpdate:modelValue":g=>a(r)[n]=g,label:n.toUpperCase()},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]),_:1}))}},X=U(),De=ue("selectorActions",{state:()=>({isOpen:!1,step:1,action:void 0,source_timeline_level:void 0,target_timeline_level:void 0}),actions:{setAction(e){this.step=2,this.action=e,this.source_timeline_level=void 0,this.target_timeline_level=void 0},setSource(e){if(this.action==="save_selected"){const t={action:this.action,device_index:X.settings.target_device_index,source_timeline_level:e,preset_name:"new preset"};B("/rest/settings",t),this.setIsOpen(!1),console.log("Preset saved:",e);return}this.step=3,this.source_timeline_level=e,this.target_timeline_level=void 0},setTarget(e){e!==void 0&&(this.target_timeline_level=e);const t={action:this.action,device_index:X.settings.target_device_index,source_timeline_level:this.source_timeline_level,target_timeline_level:this.target_timeline_level};B("/rest/settings",t),this.setIsOpen(!1)},setIsOpen(e){this.isOpen=e,e||this.reset()},reset(){this.step=1,this.action=void 0,this.source_timeline_level=void 0,this.target_timeline_level=void 0}},getters:{heading(e){switch(e.step){case 1:return"Select Operation";case 2:return`${e.action?.toUpperCase()} from`;case 3:return`${e.action?.toUpperCase()} from ${e.source_timeline_level?.toUpperCase()} to`;case 4:return`Target: ${e.target_timeline_level}`;default:return"default"}},fromOptions(e){return e.action==="load_selected"?["preset1","preset2","preset3"]:["l1","l2","l3","lx","ly","lz"]},toOptions(e){return["l1","l2","l3","lx","ly","lz"].filter(t=>t!==e.source_timeline_level)}}}),Fe={class:"select-action-button"},Ge={class:"q-gutter-y-md",style:{width:"400px"}},Me={class:"text-caption"},Ee={class:"text-caption"},Re={class:"text-caption"},je=z({__name:"SelectorActionsComponent",setup(e){const t=De(),{step:o}=y(t),r=f({get:()=>t.isOpen,set:p=>t.setIsOpen(p)});return(p,l)=>(s(),v("div",Fe,[i(R,{size:"sm",name:"drive_file_rename_outline",class:"q-px-md"}),i(he,{flat:"",modelValue:r.value,"onUpdate:modelValue":l[8]||(l[8]=n=>r.value=n)},{default:d(()=>[b("div",Ge,[i(xe,{flat:"",modelValue:a(o),"onUpdate:modelValue":l[7]||(l[7]=n=>de(o)?o.value=n:null),animated:""},{default:d(()=>[i(N,{name:1},{default:d(()=>[b("div",Me,Q(a(t).heading),1),i(E,{bordered:"",separator:""},{default:d(()=>[$((s(),k(O,{clickable:"",onClick:l[0]||(l[0]=()=>a(t).setAction("copy_selected"))},{default:d(()=>[i(I,null,{default:d(()=>l[9]||(l[9]=[C("Copy")])),_:1})]),_:1})),[[w]]),$((s(),k(O,{clickable:"",onClick:l[1]||(l[1]=()=>a(t).setAction("swap_selected"))},{default:d(()=>[i(I,null,{default:d(()=>l[10]||(l[10]=[C("Swap")])),_:1})]),_:1})),[[w]]),$((s(),k(O,{clickable:"",onClick:l[2]||(l[2]=()=>a(t).setAction("save_selected"))},{default:d(()=>[i(I,null,{default:d(()=>l[11]||(l[11]=[C("Save")])),_:1})]),_:1})),[[w]])]),_:1})]),_:1}),i(N,{name:2},{default:d(()=>[b("div",Ee,Q(a(t).heading),1),i(E,{bordered:"",separator:""},{default:d(()=>[(s(!0),v(x,null,S(a(t).fromOptions,n=>$((s(),k(O,{key:n,clickable:"",onClick:()=>a(t).setSource(n)},{default:d(()=>[i(I,null,{default:d(()=>[C(Q(n.toUpperCase()),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[w]])),128))]),_:1}),i(G,{color:"primary",label:"Cancel",onClick:l[3]||(l[3]=n=>a(t).reset()),class:"full-width q-mt-md"})]),_:1}),i(N,{name:3},{default:d(()=>[b("div",Re,Q(a(t).heading),1),a(t).action==="save_selected"?(s(),v(x,{key:0},[i(ye,{outlined:"",modelValue:a(t).target_timeline_level,"onUpdate:modelValue":l[4]||(l[4]=n=>a(t).target_timeline_level=n),label:"Preset Name"},null,8,["modelValue"]),i(G,{color:"primary",label:"Save",onClick:l[5]||(l[5]=n=>a(t).setTarget(void 0)),class:"full-width q-mt-md"})],64)):(s(),k(E,{key:1,bordered:"",separator:""},{default:d(()=>[(s(!0),v(x,null,S(a(t).toOptions,n=>$((s(),k(O,{key:n,clickable:"",onClick:()=>a(t).setTarget(n)},{default:d(()=>[i(I,null,{default:d(()=>[C(Q(n.toUpperCase()),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[w]])),128))]),_:1})),i(G,{color:"primary",label:"Cancel",onClick:l[6]||(l[6]=n=>a(t).reset()),class:"full-width q-mt-md"})]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])]))}}),He=W(je,[["__scopeId","data-v-f4a1bb10"]]),Ne={class:"menu-wrapper"},Ke=z({__name:"PerformPageMenuComponent",setup(e){const t=D(),{enable_perform_presets:o,enable_perform_options:r,enable_perform_generators:p}=y(t),l=[{label:"Options",icon:"play_arrow",vmodel:r},{label:"Presets",icon:"play_arrow",vmodel:o},{label:"Generators",icon:"play_arrow",vmodel:p}];return(n,g)=>(s(),v("div",Ne,[i(He),(s(),v(x,null,S(l,h=>i(Ce,{key:h.label,modelValue:h.vmodel.value,"onUpdate:modelValue":P=>h.vmodel.value=P,label:h.label,fancy:"",muted:""},null,8,["modelValue","onUpdate:modelValue","label"])),64))]))}}),We=W(Ke,[["__scopeId","data-v-5f077552"]]),Ze={key:0,class:"q-pa-md"},Je=z({__name:"GeneratorPresetsComponent",setup(e){const t=U(),{meta:o}=y(t),r=te();function p(l){const n={action:"load_selected",device_index:t.settings.target_device_index,target_timeline_level:r.value,preset_name:l};B("/rest/settings",n)}return(l,n)=>a(o).available_selected_presets.length>0?(s(),v("div",Ze,[i(E,{bordered:"",separator:""},{default:d(()=>[(s(!0),v(x,null,S(a(o).available_selected_presets,g=>$((s(),k(O,{clickable:"",key:g.preset_name,onClick:h=>p(g.preset_name)},{default:d(()=>[i(I,null,{default:d(()=>[C(Q(g.preset_name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[w]])),128))]),_:1})])):M("",!0)}}),pt={__name:"PerformPage",setup(e){const t=D(),{enable_perform_presets:o,enable_perform_options:r,enable_perform_generators:p}=y(t);return(l,n)=>(s(),k(ne,{padding:""},{default:d(()=>[i(We,{class:"q-pb-sm"}),a(r)?(s(),k(Be,{key:0})):M("",!0),a(o)?(s(),k(Je,{key:1})):M("",!0),a(p)?(s(),v(x,{key:2},[i(Le),n[0]||(n[0]=b("div",{class:"text-caption q-pt-md q-px-sm"},"Visible Timeline Levels",-1)),i(ze)],64)):M("",!0)]),_:1}))}};export{pt as default};
